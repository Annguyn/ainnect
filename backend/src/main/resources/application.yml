spring:
  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/ainnect?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true}
    username: ${SPRING_DATASOURCE_USERNAME:}
    password: ${SPRING_DATASOURCE_PASSWORD:}

  jpa:
    hibernate:
      ddl-auto: ${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
    properties:
      hibernate:
        format_sql: ${SPRING_JPA_PROPERTIES_HIBERNATE_FORMAT_SQL:true}
        dialect: ${SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT:org.hibernate.dialect.MySQLDialect}
    open-in-view: ${SPRING_JPA_OPEN_IN_VIEW:false}

  jackson:
    serialization:
      write-dates-as-timestamps: ${SPRING_JACKSON_SERIALIZATION_WRITE_DATES_AS_TIMESTAMPS:false}

  servlet:
    multipart:
      max-file-size: ${SPRING_SERVLET_MULTIPART_MAX_FILE_SIZE:100MB}
      max-request-size: ${SPRING_SERVLET_MULTIPART_MAX_REQUEST_SIZE:100MB}
      enabled: ${SPRING_SERVLET_MULTIPART_ENABLED:true}
      file-size-threshold: ${SPRING_SERVLET_MULTIPART_FILE_SIZE_THRESHOLD:2KB}
      location: ${SPRING_SERVLET_MULTIPART_LOCATION:${java.io.tmpdir}}

  data:
    redis:
      host: ${SPRING_REDIS_HOST:localhost}
      port: ${SPRING_REDIS_PORT:6379}
      username: ${SPRING_REDIS_USERNAME:}
      password: ${SPRING_REDIS_PASSWORD:}
      database: ${SPRING_REDIS_DATABASE:0}
      timeout: ${SPRING_REDIS_TIMEOUT:5000ms}
      ssl:
        enabled: ${SPRING_REDIS_SSL_ENABLED:false}
        trust-store: ${SPRING_REDIS_SSL_TRUST_STORE:}
        trust-store-password: ${SPRING_REDIS_SSL_TRUST_STORE_PASSWORD:}
      lettuce:
        pool:
          max-active: ${SPRING_REDIS_POOL_MAX_ACTIVE:8}
          max-idle: ${SPRING_REDIS_POOL_MAX_IDLE:8}
          min-idle: ${SPRING_REDIS_POOL_MIN_IDLE:2}
          max-wait: ${SPRING_REDIS_POOL_MAX_WAIT:5000ms}
        shutdown-timeout: ${SPRING_REDIS_SHUTDOWN_TIMEOUT:100ms}
  cache:
    type: ${SPRING_CACHE_TYPE:redis}

server:
  address: ${SERVER_ADDRESS:0.0.0.0}
  port: ${SERVER_PORT:8080}

logging:
  level:
    org.hibernate.SQL: ${LOGGING_LEVEL_ORG_HIBERNATE_SQL:info}
    org.hibernate.orm.jdbc.bind: ${LOGGING_LEVEL_ORG_HIBERNATE_ORM_JDBC_BIND:info}
    com.ainnect.service.impl.CloudflareStorageServiceImpl: DEBUG
    software.amazon.awssdk: DEBUG

# JWT
jwt:
  expiration: ${JWT_EXPIRATION:86400000}
  refresh-expiration: ${JWT_REFRESH_EXPIRATION:604800000}

# Upload + CORS
app:
  file:
    upload-dir: ${UPLOAD_DIR:uploads}
    base-url: ${BASE_URL:http://localhost:8080}
    cdn-url: ${CDN_URL:https://cdn.ainnect.me}
    use-cdn: ${USE_CDN:true}
  cors:
    allowed-origins: ${ALLOWED_ORIGINS:http://localhost:3000}

# Cloudflare R2 Configuration
cloudflare:
  r2:
    enabled: ${CLOUDFLARE_R2_ENABLED:true}
    account-id: ${CLOUDFLARE_R2_ACCOUNT_ID:}
    access-key-id: ${CLOUDFLARE_R2_ACCESS_KEY_ID:}
    secret-access-key: ${CLOUDFLARE_R2_SECRET_ACCESS_KEY:}
    bucket-name: ${CLOUDFLARE_R2_BUCKET_NAME:}
    public-url: ${CLOUDFLARE_R2_PUBLIC_URL:}