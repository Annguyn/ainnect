{
  "info": {
    "_postman_id": "ainnect-backend-apis-v2",
    "name": "Ainnect Backend APIs - JWT Based",
    "description": "Complete Postman collection for Ainnect backend. All endpoints use JWT authentication. User IDs extracted from JWT tokens, not passed in requests.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080"
    },
    {
      "key": "accessToken",
      "value": ""
    },
    {
      "key": "refreshToken",
      "value": ""
    }
  ],
  "event": [
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Auto-extract tokens from auth responses",
          "if (pm.response.code === 200 || pm.response.code === 201) {",
          "    try {",
          "        const response = pm.response.json();",
          "        if (response.accessToken) {",
          "            pm.collectionVariables.set('accessToken', response.accessToken);",
          "        }",
          "        if (response.refreshToken) {",
          "            pm.collectionVariables.set('refreshToken', response.refreshToken);",
          "        }",
          "    } catch (e) {",
          "        // Not a JSON response, skip",
          "    }",
          "}"
        ]
      }
    }
  ],
  "item": [
    {
      "name": "üîê Authentication",
      "item": [
        {
          "name": "Register New User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"john_doe\",\n  \"email\": \"john.doe@example.com\",\n  \"phone\": \"+84123456789\",\n  \"password\": \"SecurePass@123\",\n  \"displayName\": \"John Doe\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "register"]
            }
          },
          "response": [
            {
              "name": "201 Created - Success",
              "status": "Created",
              "code": 201,
              "body": "{\n  \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"tokenType\": \"Bearer\",\n  \"expiresIn\": 3600,\n  \"userInfo\": {\n    \"id\": 1,\n    \"username\": \"john_doe\",\n    \"email\": \"john.doe@example.com\",\n    \"displayName\": \"John Doe\",\n    \"avatarUrl\": null,\n    \"isActive\": true\n  }\n}"
            }
          ]
        },
        {
          "name": "Login User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"usernameOrEmail\": \"john.doe@example.com\",\n  \"password\": \"SecurePass@123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "login"]
            }
          },
          "response": [
            {
              "name": "200 OK - Success",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"tokenType\": \"Bearer\",\n  \"expiresIn\": 3600,\n  \"userInfo\": {\n    \"id\": 1,\n    \"username\": \"john_doe\",\n    \"email\": \"john.doe@example.com\",\n    \"displayName\": \"John Doe\",\n    \"avatarUrl\": null,\n    \"isActive\": true\n  }\n}"
            }
          ]
        },
        {
          "name": "Get Current User (/me)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/me",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "me"]
            }
          },
          "response": [
            {
              "name": "200 OK - User Info",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"id\": 1,\n  \"username\": \"john_doe\",\n  \"email\": \"john.doe@example.com\",\n  \"displayName\": \"John Doe\",\n  \"avatarUrl\": null,\n  \"isActive\": true\n}"
            }
          ]
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{baseUrl}}/api/auth/refresh?refreshToken={{refreshToken}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "refresh"],
              "query": [
                {
                  "key": "refreshToken",
                  "value": "{{refreshToken}}"
                }
              ]
            }
          },
          "response": [
            {
              "name": "200 OK - Token Refreshed",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"tokenType\": \"Bearer\",\n  \"expiresIn\": 3600,\n  \"userInfo\": null\n}"
            }
          ]
        },
        {
          "name": "Validate Token",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/validate",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "validate"]
            }
          },
          "response": [
            {
              "name": "200 OK - Valid",
              "status": "OK",
              "code": 200,
              "body": "true"
            }
          ]
        },
        {
          "name": "Logout User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/logout",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "logout"]
            }
          },
          "response": [
            {
              "name": "200 OK - Logout Success",
              "status": "OK",
              "code": 200,
              "body": "ƒêƒÉng xu·∫•t th√†nh c√¥ng"
            }
          ]
        }
      ]
    },
    {
      "name": "üë§ User Management",
      "item": [
        {
          "name": "Get My Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users/profile",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "profile"]
            }
          },
          "response": [
            {
              "name": "200 OK - Profile Info",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"id\": 1,\n  \"username\": \"john_doe\",\n  \"email\": \"john.doe@example.com\",\n  \"phone\": \"+84123456789\",\n  \"displayName\": \"John Doe\",\n  \"avatarUrl\": \"https://example.com/avatar.jpg\",\n  \"bio\": \"Software developer passionate about technology\",\n  \"gender\": \"male\",\n  \"birthday\": \"1995-05-15\",\n  \"location\": \"Ho Chi Minh City, Vietnam\",\n  \"isActive\": true\n}"
            }
          ]
        },
        {
          "name": "Get User By ID",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/users/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "1"]
            }
          },
          "response": [
            {
              "name": "200 OK - User Found",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"id\": 1,\n  \"username\": \"john_doe\",\n  \"email\": \"john.doe@example.com\",\n  \"displayName\": \"John Doe\",\n  \"avatarUrl\": \"https://example.com/avatar.jpg\",\n  \"bio\": \"Software developer\",\n  \"isActive\": true\n}"
            }
          ]
        },
        {
          "name": "Update My Profile",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"displayName\": \"John Doe Updated\",\n  \"phone\": \"+84987654321\",\n  \"avatarUrl\": \"https://example.com/new-avatar.jpg\",\n  \"bio\": \"Updated bio: Senior Software Developer\",\n  \"gender\": \"male\",\n  \"birthday\": \"1995-05-15\",\n  \"location\": \"Hanoi, Vietnam\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/profile",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "profile"]
            }
          }
        },
        {
          "name": "Change Password",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"oldPassword\": \"SecurePass@123\",\n  \"newPassword\": \"NewSecurePass@456\",\n  \"confirmPassword\": \"NewSecurePass@456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/change-password",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "change-password"]
            }
          }
        },
        {
          "name": "Check Username Availability",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/users/check-username/new_username",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "check-username", "new_username"]
            }
          },
          "response": [
            {
              "name": "200 OK - Available",
              "status": "OK",
              "code": 200,
              "body": "false"
            }
          ]
        },
        {
          "name": "Check Email Availability",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/users/check-email/test@example.com",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "check-email", "test@example.com"]
            }
          }
        }
      ]
    },
    {
      "name": "üìù Posts Management",
      "item": [
        {
          "name": "Create New Post",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"content\": \"Hello Ainnect! This is my first post üéâ\",\n  \"visibility\": \"public_\",\n  \"groupId\": null\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/posts",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts"]
            },
            "description": "Create post - author ID extracted from JWT"
          },
          "response": [
            {
              "name": "201 Created",
              "status": "Created",
              "code": 201,
              "body": "{\n  \"id\": 1,\n  \"authorId\": 1,\n  \"groupId\": null,\n  \"content\": \"Hello Ainnect! This is my first post üéâ\",\n  \"visibility\": \"public_\",\n  \"commentCount\": 0,\n  \"reactionCount\": 0,\n  \"shareCount\": 0,\n  \"createdAt\": \"2025-09-19T15:43:25.103\",\n  \"updatedAt\": \"2025-09-19T15:43:25.103\"\n}"
            }
          ]
        },
        {
          "name": "Get Post by ID",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/posts/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts", "1"]
            }
          },
          "response": [
            {
              "name": "200 OK",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"id\": 1,\n  \"authorId\": 1,\n  \"groupId\": null,\n  \"content\": \"Hello Ainnect! This is my first post üéâ\",\n  \"visibility\": \"public_\",\n  \"commentCount\": 3,\n  \"reactionCount\": 15,\n  \"shareCount\": 2,\n  \"createdAt\": \"2025-09-19T15:43:25.103\",\n  \"updatedAt\": \"2025-09-19T15:43:25.103\"\n}"
            }
          ]
        },
        {
          "name": "Get Posts Feed",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/posts/feed?page=0&size=10&sort=createdAt,desc",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts", "feed"],
              "query": [
                {"key": "page", "value": "0"},
                {"key": "size", "value": "10"},
                {"key": "sort", "value": "createdAt,desc"}
              ]
            }
          }
        },
        {
          "name": "Get Posts (Optional Author Filter)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/posts?authorId=1&page=0&size=10",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts"],
              "query": [
                {"key": "authorId", "value": "1", "description": "Optional filter"},
                {"key": "page", "value": "0"},
                {"key": "size", "value": "10"}
              ]
            },
            "description": "Get posts with optional author filter. If no authorId, returns general feed"
          }
        },
        {
          "name": "Update Post",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"content\": \"Updated: Hello Ainnect! This is my edited post ‚úèÔ∏è\",\n  \"visibility\": \"public_\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/posts/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts", "1"]
            }
          }
        },
        {
          "name": "Delete Post",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/posts/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts", "1"]
            }
          },
          "response": [
            {
              "name": "204 No Content",
              "status": "No Content",
              "code": 204
            }
          ]
        },
        {
          "name": "React to Post (Like/Love/etc)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"like\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/posts/1/reactions",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts", "1", "reactions"]
            },
            "description": "React to post - user ID from JWT. Types: like, love, haha, wow, sad, angry"
          },
          "response": [
            {
              "name": "200 OK",
              "status": "OK",
              "code": 200
            }
          ]
        },
        {
          "name": "Remove Reaction from Post",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/posts/1/reactions",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts", "1", "reactions"]
            },
            "description": "Remove reaction - user ID from JWT"
          },
          "response": [
            {
              "name": "204 No Content",
              "status": "No Content",
              "code": 204
            }
          ]
        },
        {
          "name": "Add Comment to Post",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"content\": \"Great post! Thanks for sharing üëç\",\n  \"parentId\": null\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/posts/1/comments",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts", "1", "comments"]
            },
            "description": "Add comment - author ID from JWT"
          },
          "response": [
            {
              "name": "201 Created",
              "status": "Created",
              "code": 201,
              "body": "1"
            }
          ]
        },
        {
          "name": "Get Post Comments",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/posts/1/comments?page=0&size=10",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts", "1", "comments"],
              "query": [
                {"key": "page", "value": "0"},
                {"key": "size", "value": "10"}
              ]
            }
          }
        },
        {
          "name": "Share Post",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"comment\": \"Check out this amazing post! üî•\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/posts/1/shares",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts", "1", "shares"]
            },
            "description": "Share post - user ID from JWT"
          },
          "response": [
            {
              "name": "201 Created",
              "status": "Created",
              "code": 201,
              "body": "10"
            }
          ]
        }
      ]
    },
    {
      "name": "üí¨ Comments Management",
      "item": [
        {
          "name": "Get Comments by Post ID",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/comments/by-post/1?page=0&size=10",
              "host": ["{{baseUrl}}"],
              "path": ["api", "comments", "by-post", "1"],
              "query": [
                {"key": "page", "value": "0"},
                {"key": "size", "value": "10"}
              ]
            }
          }
        },
        {
          "name": "Get Comment Replies",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/comments/1/replies?page=0&size=5",
              "host": ["{{baseUrl}}"],
              "path": ["api", "comments", "1", "replies"],
              "query": [
                {"key": "page", "value": "0"},
                {"key": "size", "value": "5"}
              ]
            }
          }
        },
        {
          "name": "Reply to Comment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"content\": \"I totally agree with you! üíØ\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/comments/1/replies",
              "host": ["{{baseUrl}}"],
              "path": ["api", "comments", "1", "replies"]
            },
            "description": "Reply to comment - author ID from JWT"
          },
          "response": [
            {
              "name": "201 Created",
              "status": "Created",
              "code": 201,
              "body": "2"
            }
          ]
        },
        {
          "name": "React to Comment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"like\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/comments/1/reactions",
              "host": ["{{baseUrl}}"],
              "path": ["api", "comments", "1", "reactions"]
            },
            "description": "React to comment - user ID from JWT"
          },
          "response": [
            {
              "name": "200 OK",
              "status": "OK",
              "code": 200
            }
          ]
        },
        {
          "name": "Remove Reaction from Comment",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/comments/1/reactions",
              "host": ["{{baseUrl}}"],
              "path": ["api", "comments", "1", "reactions"]
            },
            "description": "Remove reaction - user ID from JWT"
          },
          "response": [
            {
              "name": "204 No Content",
              "status": "No Content",
              "code": 204
            }
          ]
        }
      ]
    }
  ]
}
